{{#> layouts/admin}}

{{#*inline "head-block"}}
<link type="text/css" rel="stylesheet" href="/css/admin.css">
{{/inline}}

{{#*inline "header-block"}}
{{> includes/header_admin}}
{{/inline}}

{{#*inline "content-block"}}
<div class="container addproduct">
  {{#each err}}
  <div class="alert alert-danger alert-dismissible fade show mt-3" role="alert">
    No se ha podido actualizar el producto. {{.}}.
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  {{/each}}
  {{#if msg}}
  <div class="alert alert-info alert-dimissible fade show mt-3" role="alert">
    {{msg}}.
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  {{/if}}
  {{#if success_msg}}
  <div class="alert alert-success alert-dimissible fade show mt-3" role="alert">
    {{success_msg}}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  {{/if}}
  <h1 class="display-2 my-5">AÃ±adir Modelo</h1>
  <form class="add-product-form" id="addModelForm">
    <div class="row mb-4">
      <div class="col-md-8">
        <label for="modelName" class="form-label">Nombre</label>
        <input type="text" class="form-control" id="modelName">
      </div>
    </div>
    <div class="row mb-4">
      <div class="col-md-4">
        <label for="modelType" class="form-label">Tipo de prenda</label>
        <select name="modelType" id="modelType" class="form-select">
          {{#each prodTypes}}
          <option value="{{this.code}}">{{this.name}}</option>
          {{/each}}
        </select>
      </div>
      <div class="col-md-4">
        <label for="modelCode" class="form-label">Codigo</label>
        <div class="input-group">
          <span class="input-group-text" id="typeCode">{{firstCode}}-</span>
          <input type="text" class="form-control" id="modelCode">
        </div>
      </div>
      <div class="col-md-4">
        <label for="modelCategory" class="form-label">Categoria</label>
        <select name="modelCategory" id="modelCategory" class="form-select">
          <option value="gold">Joyeria de Oro</option>
          <option value="silver">Joyeria de Plata</option>
        </select>
      </div>
    </div>
    <div class="row mb-4">
      <div class="col-md-8">
        <label for="modelDescription" class="form-label">Descripcion</label>
        <textarea name="modelDescription" id="modelDescription" rows="1" class="form-control"></textarea>
      </div>
      <div class="col-md-4">
        <label for="modelKarat" class="form-label">Kilataje</label>
        {{!-- <input type="text" class="form-control" id="modelKarat"> --}}
        <select name="modelKarat" id="modelKarat" class="form-select">
          <option>Ninguno.</option>
          <option value="10K">10K</option>
          <option value="14K">14K</option>
          <option value="18K">18K</option>
        </select>
      </div>
    </div>
    <div class="row">
      <div class="col-auto">
        <h5 class="display-5">Imagenes</h5>
      </div>
      <div class="col-auto my-auto ms-auto me-4">
        <button class="btn btn-primary btn-lg my-auto" type="button" data-bs-toggle="modal"
          data-bs-target="#uploadImgsModal" id="toggleModal">Subir Imagenes</button>
      </div>
    </div>
    <div class="row mb-4">
      <div class="col-md-12 mt-4 gallery" id="imageDisplay">
        {{!-- <button class="btn btn-primary btn-lg my-auto" type="button" data-bs-toggle="modal"
          data-bs-target="#uploadImgsModal" id="toggleModal">Subir Archivos</button> --}}
      </div>
    </div>
    <div class="row mb-4">
      <div class="col-md-6">
        <label for="mainImage" class="form-label">Imagen principal</label>
        <select name="mainImage" id="mainImage" class="form-select"></select>
      </div>
      <div class="col-md-6">
        <label for="thumbImage" class="form-label">Imagen para miniatura</label>
        <select name="thumbImage" id="thumbImage" class="form-select"></select>
      </div>
    </div>
    <div class="row mb-4">
      <h4 class="display-5 mb-5">Ajustes de visibilidad</h4>
      <div class="col-md-4">
        <div class="form-check">
          <input type="checkbox" class="form-check-input" name="mainPage" id="mainPage">
          <label for="mainPage" class="form-check-label">Mostrar en pagina principal</label>
        </div>
      </div>
      <div class="col-md-4">
        <div class="form-check">
          <input type="checkbox" class="form-check-input" name="available" id="available" checked>
          <label for="available" class="form-check-label">Disponible?</label>
        </div>
      </div>
    </div>
    <div class="row">
      <button class="btn btn-primary btn-lg ml-auto" type="submit" id="submitAddProduct">Agregar</button>
    </div>
  </form>

  <form id="uploadImagesForm">
    <div class="modal fade" id="uploadImgsModal" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalLabel">Subir Imagenes</h5>
            <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <input type="file" class="form-control" name="gallery" id="gallery" multiple>
          </div>
          <div class="modal-footer">
            <button class="btn btn-secondary" type="button" data-bs-dismiss="modal" id="closeModal">Cerrar</button>
            <button class="btn btn-primary" type="submit">Subir Imagenes</button>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
{{/inline}}

{{#*inline "scripts-block"}}
<script src="/js/addModel.js" type="module"></script>
{{/inline}}

{{/layouts/admin}}